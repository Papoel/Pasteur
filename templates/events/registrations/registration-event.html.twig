{% extends 'base.html.twig' %}
{% block title %}Inscription: {{ event.name }}{% endblock %}
{% block body %}

    {% include('components/_navbar.html.twig') %}
    <section class="text-gray-600">
        <h1 class="text-4xl text-center text-purple-degrade uppercase font-semibold pt-8 md:py-10">
            Inscription: {{ event.name }}
        </h1>

        {% include('components/_flash-messages.html.twig') %}

        <div class="md:mt-10 sm:mt-0 py-8">
            <div class="mx-auto container px-6">
                {{ form_start(form) }}
                    {{ form_widget(form._token) }}
                    {{ form_errors(form) }}
                    {{ form_row(form.firstname) }}
                    {{ form_row(form.lastname) }}
                    {{ form_row(form.email) }}
                    {{ form_row(form.telephone) }}

                    <button
                            id="add-child"
                            type="button"
                            class="btn-new py-2 px-3 mb-2 text-center text-white bg-indigo-600 hover:bg-indigo-700"
                            data-collection="#childrens"
                    >
                        Ajouter une enfant
                    </button>

                    <div id="childrens"
                         data-prototype="{{ include('events/registrations/_children.html.twig',
                             {form: form.children.vars.prototype})|e("html_attr") }}"
                         data-index="{{ form.children|length > 0 ? form.children|last.vars.name + 1 : 0 }}">
                        {% for children in form.children %}
                            <div class="add-child">
                                {{ include('events/registrations/_children.html.twig', {form: children}) }}
                            </div>
                        {% endfor %}
                    </div>

                    {{ form_row(form.submit) }}


                {{ form_end(form, {render_rest: false}) }}

                {#<div class="mt-5 md:mt-0 md:col-span-2">
                    {{ form_start(form) }}
                    <div class="overflow-hidden sm:rounded-md">
                        <div class="px-4 py-3 bg-white">
                            <div class="grid grid-cols-6 gap-6">
                                <div id="firstname" class="md:col-span-2 col-span-4">
                                    {{ form_row(form.firstname, {
                                        row_class: 'mt-2 px-3',
                                        label_class: 'font-semibold text-gray-600',
                                        widget_class: 'border border-red-200 bg-gray-50',
                                        error_item_class: 'text-red-700 font-semibold',
                                        widget_errors_class: 'border-double border-4 border-red-500 bg-red-50',
                                    }) }}
                                </div>

                                <div id="lastname" class="md:col-span-2 col-span-4">
                                    {{ form_row(form.lastname, {
                                        row_class: 'mt-2 px-3',
                                        label_class: 'font-semibold text-gray-600',
                                        widget_class: 'border border-red-200 bg-gray-50',
                                        error_item_class: 'text-red-700 font-semibold',
                                        widget_errors_class: 'border-double border-4 border-red-500 bg-red-50',
                                    }) }}
                                </div>

                                <div id="email" class="md:col-span-2 col-span-4">
                                    {{ form_row(form.email, {
                                        row_class: 'mt-2 px-3',
                                        label_class: 'font-semibold text-gray-600',
                                        widget_class: 'border border-red-200 bg-gray-50',
                                        error_item_class: 'text-red-700 font-semibold',
                                        widget_errors_class: 'border-double border-4 border-red-500 bg-red-50',
                                    }) }}
                                </div>

                                <div id="telephone" class="md:col-span-2 col-span-4">
                                    {{ form_row(form.telephone, {
                                        row_class: 'mt-2 px-3',
                                        label_class: 'font-semibold text-gray-600',
                                        widget_class: 'border border-red-200 bg-gray-50',
                                        error_item_class: 'text-red-700 font-semibold',
                                        widget_errors_class: 'border-double border-4 border-red-500 bg-red-50',
                                    }) }}
                                </div>

                                <div id="children" class="md:col-span-2 col-span-4">
                                    {{ form_row(form.children) }}
                                </div>

                            </div>
                        </div>
                        <div class="text-sm md:text-xl md:px-4 md:py-3 text-center mt-4">
                            <button type="submit" class="registerBtn btn-purple-degrade w-full w-2/4 md:w-1/3">Valider mon inscription</button>
                        </div>
                    </div>
                    {{ form_widget(form._token) }}
                    {{ form_end(form, {'render_rest': false}) }}
                </div>#}
            </div>
        </div>
    </section>

{% endblock %}
