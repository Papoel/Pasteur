{% extends 'base.html.twig' %}

{% block title 'ADMIN - Détails Inscriptions' %}

{% block body %}

    {% include('components/_navbar.html.twig') %}

<section>
    <div id="header">
        <h1 class="text-center py-8 md:py12 xl:py-24 text-4xl md:text-5xl">
            <span class="mx-2 text-purple-degrade uppercase font-extrabold">Liste des inscrits aux événements </span>
        </h1>
    </div>

    <div class="container mx-auto mb-36 overflow-x-auto relative shadow-md sm:rounded-lg">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                <tr>
                    <th scope="col" class="py-3 px-6">
                        Événement
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Prénom
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Nom
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Email
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Téléphone
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Enfants inscrits
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Payé
                    </th>
                    <th scope="col" class="py-3 px-6">
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>

            {% for registration in registrations %}
                <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">

                    <td class="py-4 px-6">
                        {{ registration.event.name }}
                    </td>

                    <td class="py-4 px-6">
                        {{ registration.firstname }}
                    </td>

                    <td class="py-4 px-6">
                        {{ registration.lastname }}
                    </td>

                    <td class="py-4 px-6">
                        {{ registration.email }}
                    </td>

                    <td class="py-4 px-6">
                        {{ registration.telephone }}
                    </td>

                    <td class="py-4 px-6">
                        {% for children in registration.children %}
                            <ul class="bg-white border border-gray-200 text-gray-900 bg-purple-50">
                                <li class="px-6 py-2 border-b border-gray-200">
                                    {{ children.firstname }} {{ children.lastname }} - ({{ children.classroom }})
                                </li>
                            </ul>
                        {% endfor %}
                    </td>

                    <td class="py-4 px-6">
                        {% if registration.isPaid == 1 %}
                            <span id="badge-dismiss-green" class="
                                inline-flex items-center py-1 px-2 mr-2 text-sm font-medium text-green-800 bg-green-100
                                rounded dark:bg-green-200 dark:text-green-800">
                                Payé
                            </span>
                        {% else %}
                        <span id="badge-dismiss-red"
                              class="inline-flex items-center py-1 px-2 mr-2 text-sm font-medium text-red-800 bg-red-100
                               rounded dark:bg-red-200 dark:text-red-800">
                                Non Payé
                        </span>
                        {% endif %}
                    </td>

                    <td class="py-4 px-6 text-right">
                        <a href="{{ path('admin') }}" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Modifier</a>
                    </td>
                </tr>
            {% endfor %}

            </tbody>
        </table>

    </div>
</section>

{% endblock %}
